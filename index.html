<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="shortcut icon" href="#" />
    <title>Домашнее задание - занятие 2</title>
    <script>
      // 1. Создайте цикл, который:
      // 1.1. Просит пользователя ввести значения (числа), используя prompt и сохраняет их в массив.
      // 1.2. Выходит из цикла (заканчивает запрашивать значения), когда пользователь введёт
      // нечисловое значение, пустую строку или нажмёт кнопку «Отмена». Для ввода используйте prompt().
      // 1.3. Подсчитывает и возвращает сумму элементов массива.
      // Число 0 (ноль) – считается числом, не останавливайте ввод значений при вводе ноля пользователем.

      // Решение:10
      let age = [];
      //for (let i = 0; ; i++) {
      /*age[i] = prompt("Сколько вам лет?");//Почему при +prompt перестают срабатывать условия if, но срабатывает объединенное условие?
        if (isNaN(age[i]) || age[i] === null || age[i] === ''){
          break; //При таком вводе условий prompt исчезает даже после ввода числа. Почему?
        }
        /*if (age[i] === null) {
          break;
        }
        else if (age[i] === '') {
          break;
        }
        else if (age[i] * 0 != 0) {
          break;
        }
       else if (typeof (age) === "number"){ 
          break;
        }*/
      //}
      do {
        let userInput = prompt("Сколько вам лет?");
       if (isNaN(userInput) || userInput === null || userInput === ''){
        break;
       }
       age.push(userInput);
      }
      while (true);
      console.log(age);
      console.log(`Элементов в массиве: ${age.length}`);
      for (let i = 0; i < age.length; i++) {
        console.log(`Возраст: ${age[i]}`);
      }
      for (let name of age) {
        console.log(`Годы (for..of): ${name}`);
      }

      // 2. Дан массив чисел
      let numbers = [0, -23, 5, 90, 104, 80, -55];
      // С помощью цикла и условий найдите и выведите в консоль наибольшее и наименьшее число массива.
      // *Найдите отдельно сумму отрицательных и положительных элементов массива.
      // *Найдите среднее арифметическое элементов массива (сумма элементов, делить на количество).

      // Решение:
      let max = numbers[0];
      let min = numbers[0];
      let sumMinus = 0;
      let sumPlus = 0;
      let sum = 0;
      for (let i = 0; i < numbers.length; i++) {
        if (max < numbers[i]) {
          max = numbers[i];
        } else {
          min = numbers[i];
        }
        if (numbers[i] < 0) {
          sumMinus = (sumMinus + numbers[i]);
        } else {
          sumPlus = (sumPlus + numbers[i]);
        }
        sum = sum + numbers[i];
      }
      console.log(`Максимум: ${max}`);
      console.log('Минимум: ' + min);
      console.log('Сумма отрицательных чисел: ' + sumMinus);
      console.log('Сумма положительных чисел: ' + sumPlus);
      console.log('Среднее арифметическое: ' + (sum / numbers.length));

      // 3. Дан массив
      let languages = [
        "javascript",
        "php",
        "php",
        "typescript",
        "javascript",
        "html",
        "html",
        "java",
        "javascript",
      ];
      // 1. Удалите повторяющиеся элементы массива.
      // *2. Выведите в консоль, сколько раз повторялся каждый элемент массива (включая удаленные элементы массива).

      // Решение:
      let languages2 = [...new Set(languages)];
      console.log(languages2);

  let result = {};
for (let i = 0; i < languages.length; i++)
{
  let a = languages[i];
    if (result[a] != undefined)
        result[a]++;
    else
        result[a] = 1;
}
for (let key in result)
   console.log(key + ' - ' + result[key]);
    </script>
  </head>
  <body></body>
</html>
